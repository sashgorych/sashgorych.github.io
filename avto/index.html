<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">
    <title>Avto</title>

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/animate.css">


</head>

<body>
        <div class="header">
            <div class="menu">
                <ul>
                    <li><a href="#home">home</a></li>
                    <li><a href="#about">about</a></li>
                    <li><a href="#services">services</a></li>
                    <li><a href="#gallery">gallery</a></li>
                    <li><a href="#contact">contact</a></li>
                </ul>
            </div>
            <div class="menuMobile">
                <i class="fas fa-bars"></i>
            </div>
            <div class="menuMob">
                <ul>
                    <li><a href="#home">home</a></li>
                    <li><a href="#about">about</a></li>
                    <li><a href="#services">services</a></li>
                    <li><a href="#gallery">gallery</a></li>
                    <li><a href="#contact">contact</a></li>
                </ul>
                <div class="close"><i class="fas fa-times"></i></div>
            </div>
            <div class="logo">
                <a href=""><img src="./img/logo.png" alt=""></a>
            </div>
        </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="js/wow.min.js"></script>
<script>
    new WOW().init();
    document.querySelector(".menuMobile").addEventListener("click",function () {
        document.querySelector(".menuMob").classList.add("active");
        document.querySelector(".menuMob>ul").addEventListener("click", function () {
            document.querySelector(".menuMob").classList.remove("active");

        });
    });
    document.querySelector(".close").addEventListener("click",function () {
        document.querySelector(".menuMob").classList.remove("active");
    });

    $('.menuMob a[href^="#"]').on('click', function (e) {
        e.preventDefault();
        $(document).off("scroll");

        $('a').each(function () {
            $(this).removeClass('active');
        })
        $(this).addClass('active');

        var target = this.hash;
        $target = $(target);
        $('html, body').stop().animate({
            'scrollTop': $target.offset().top+2
        }, 500, 'swing', function () {
            $(document).on("scroll", onScroll);
        });
    });
    $('.menu a[href^="#"]').on('click', function (e) {
        e.preventDefault();
        $(document).off("scroll");

        $('a').each(function () {
            $(this).removeClass('active');
        })
        $(this).addClass('active');

        var target = this.hash;
        $target = $(target);
        $('html, body').stop().animate({
            'scrollTop': $target.offset().top+2
        }, 500, 'swing', function () {
            $(document).on("scroll", onScroll);
        });
    });
    function onScroll(event){
        var scrollPosition = $(document).scrollTop();
        if(scrollPosition>500){
            $('.aboutRight').addClass("active");
        }
        $('.top-menu a').each(function () {
            var currentLink = $(this);
            var refElement = $(currentLink.attr("href"));
            if (refElement.position().top-300 <= scrollPosition && refElement.position().top-300+ refElement.height() > scrollPosition) {
                $('nav ul li a').removeClass("active");
                currentLink.addClass("active");
            }
            else{
                currentLink.removeClass("active");
            }
            if(scrollPosition<$("#home").height){
                $(".menu_home").addClass('active');
            }
        });
    }
</script>
</body>
</html>
